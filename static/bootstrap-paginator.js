(function(f){var h=function(a,b){this.init(a,b)};h.prototype={init:function(a,b){this.$element=f(a);a=b&&b.bootstrapMajorVersion?b.bootstrapMajorVersion:f.fn.bootstrapPaginator.defaults.bootstrapMajorVersion;this.$element.attr("id");if(2===a&&!this.$element.is("div"))throw"in Bootstrap version 2 the pagination must be a div element. Or if you are using Bootstrap pagination 3. Please specify it in bootstrapMajorVersion in the option";if(2<a&&!this.$element.is("ul"))throw"in Bootstrap version 3 the pagination root item must be an ul element.";
this.lastPage=this.currentPage=1;this.setOptions(b);this.initialized=!0},setOptions:function(a){this.options=f.extend({},this.options||f.fn.bootstrapPaginator.defaults,a);this.totalPages=parseInt(this.options.totalPages,10);this.numberOfPages=parseInt(this.options.numberOfPages,10);a&&"undefined"!==typeof a.currentPage&&this.setCurrentPage(a.currentPage);this.listen();this.render();this.initialized||this.lastPage===this.currentPage||this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},
listen:function(){this.$element.off("page-clicked");this.$element.off("page-changed");"function"===typeof this.options.onPageClicked&&this.$element.bind("page-clicked",this.options.onPageClicked);if("function"===typeof this.options.onPageChanged)this.$element.on("page-changed",this.options.onPageChanged);this.$element.bind("page-clicked",this.onPageClicked)},destroy:function(){this.$element.off("page-clicked");this.$element.off("page-changed");this.$element.removeData("bootstrapPaginator");this.$element.empty()},
show:function(a){this.setCurrentPage(a);this.render();this.lastPage!==this.currentPage&&this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},showNext:function(){var a=this.getPages();a.next&&this.show(a.next)},showPrevious:function(){var a=this.getPages();a.prev&&this.show(a.prev)},showFirst:function(){var a=this.getPages();a.first&&this.show(a.first)},showLast:function(){var a=this.getPages();a.last&&this.show(a.last)},onPageItemClicked:function(a){this.$element.trigger("page-clicked",
[a,a.data.type,a.data.page])},onPageClicked:function(a,b,d,c){a=f(a.currentTarget);switch(d){case "first":a.bootstrapPaginator("showFirst");break;case "prev":a.bootstrapPaginator("showPrevious");break;case "next":a.bootstrapPaginator("showNext");break;case "last":a.bootstrapPaginator("showLast");break;case "page":a.bootstrapPaginator("show",c)}},render:function(){var a=this.getValueFromOption(this.options.containerClass,this.$element),b=this.options.size||"normal",d=this.options.alignment||"left",
c=this.getPages(),e=2===this.options.bootstrapMajorVersion?f("<ul></ul>"):this.$element,g=2===this.options.bootstrapMajorVersion?this.getValueFromOption(this.options.listContainerClass,e):null;this.$element.prop("class","");this.$element.addClass("pagination");switch(b.toLowerCase()){case "large":case "small":case "mini":this.$element.addClass(f.fn.bootstrapPaginator.sizeArray[this.options.bootstrapMajorVersion][b.toLowerCase()])}if(2===this.options.bootstrapMajorVersion)switch(d.toLowerCase()){case "center":this.$element.addClass("pagination-centered");
break;case "right":this.$element.addClass("pagination-right")}this.$element.addClass(a);this.$element.empty();2===this.options.bootstrapMajorVersion&&(this.$element.append(e),e.addClass(g));this.pageRef=[];c.first&&(a=this.buildPageItem("first",c.first))&&e.append(a);c.prev&&(a=this.buildPageItem("prev",c.prev))&&e.append(a);for(b=0;b<c.length;b+=1)(a=this.buildPageItem("page",c[b]))&&e.append(a);c.next&&(a=this.buildPageItem("next",c.next))&&e.append(a);c.last&&(c=this.buildPageItem("last",c.last))&&
e.append(c)},buildPageItem:function(a,b){var d=f("<li></li>"),c=f("<a></a>"),e="",g="",h=this.options.itemContainerClass(a,b,this.currentPage),k=this.getValueFromOption(this.options.itemContentClass,a,b,this.currentPage);switch(a){case "first":if(!this.getValueFromOption(this.options.shouldShowPage,a,b,this.currentPage))return;e=this.options.itemTexts(a,b,this.currentPage);g=this.options.tooltipTitles(a,b,this.currentPage);break;case "last":if(!this.getValueFromOption(this.options.shouldShowPage,
a,b,this.currentPage))return;e=this.options.itemTexts(a,b,this.currentPage);g=this.options.tooltipTitles(a,b,this.currentPage);break;case "prev":if(!this.getValueFromOption(this.options.shouldShowPage,a,b,this.currentPage))return;e=this.options.itemTexts(a,b,this.currentPage);g=this.options.tooltipTitles(a,b,this.currentPage);break;case "next":if(!this.getValueFromOption(this.options.shouldShowPage,a,b,this.currentPage))return;e=this.options.itemTexts(a,b,this.currentPage);g=this.options.tooltipTitles(a,
b,this.currentPage);break;case "page":if(!this.getValueFromOption(this.options.shouldShowPage,a,b,this.currentPage))return;e=this.options.itemTexts(a,b,this.currentPage);g=this.options.tooltipTitles(a,b,this.currentPage)}d.addClass(h).append(c);c.addClass(k).html(e).on("click",null,{type:a,page:b},f.proxy(this.onPageItemClicked,this));this.options.pageUrl&&c.attr("href",this.getValueFromOption(this.options.pageUrl,a,b,this.currentPage));this.options.useBootstrapTooltip?(a=f.extend({},this.options.bootstrapTooltipOptions,
{title:g}),c.tooltip(a)):c.attr("title",g);return d},setCurrentPage:function(a){if(a>this.totalPages||1>a)throw"Page out of range";this.lastPage=this.currentPage;this.currentPage=parseInt(a,10)},getPages:function(){var a=this.totalPages,b=0===this.currentPage%this.numberOfPages?(parseInt(this.currentPage/this.numberOfPages,10)-1)*this.numberOfPages+1:parseInt(this.currentPage/this.numberOfPages,10)*this.numberOfPages+1,d=[],c;b=1>b?1:b;for(c=0;c<this.numberOfPages&&b<=a;b+=1,c+=1)d.push(b);d.first=
1;d.prev=1<this.currentPage?this.currentPage-1:1;d.next=this.currentPage<a?this.currentPage+1:a;d.last=a;d.current=this.currentPage;d.total=a;d.numberOfPages=this.options.numberOfPages;return d},getValueFromOption:function(a){var b=Array.prototype.slice.call(arguments,1);return"function"===typeof a?a.apply(this,b):a}};f.fn.bootstrapPaginator=function(a){var b=arguments,d=null;f(this).each(function(c,e){e=f(e);c=e.data("bootstrapPaginator");e="object"!==typeof a?null:a;if(c)if("string"===typeof a)if(c[a])d=
c[a].apply(c,Array.prototype.slice.call(b,1));else throw"Method "+a+" does not exist";else d=c.setOptions(a);else c=new h(this,e),e=f(c.$element),e.data("bootstrapPaginator",c)});return d};f.fn.bootstrapPaginator.sizeArray={2:{large:"pagination-large",small:"pagination-small",mini:"pagination-mini"},3:{large:"pagination-lg",small:"pagination-sm",mini:""}};f.fn.bootstrapPaginator.defaults={containerClass:"",size:"normal",alignment:"left",bootstrapMajorVersion:2,listContainerClass:"",itemContainerClass:function(a,
b,d){return b===d?"active":""},itemContentClass:function(a,b,d){return""},currentPage:1,numberOfPages:5,totalPages:1,pageUrl:function(a,b,d){return null},onPageClicked:null,onPageChanged:null,useBootstrapTooltip:!1,shouldShowPage:function(a,b,d){b=!0;switch(a){case "first":b=1!==d;break;case "prev":b=1!==d;break;case "next":b=d!==this.totalPages;break;case "last":b=d!==this.totalPages;break;case "page":b=!0}return b},itemTexts:function(a,b,d){switch(a){case "first":return"&lt;&lt;";case "prev":return"&lt;";
case "next":return"&gt;";case "last":return"&gt;&gt;";case "page":return b}},tooltipTitles:function(a,b,d){switch(a){case "first":return"Go to first page";case "prev":return"Go to previous page";case "next":return"Go to next page";case "last":return"Go to last page";case "page":return b===d?"Current page is "+b:"Go to page "+b}},bootstrapTooltipOptions:{animation:!0,html:!0,placement:"top",selector:!1,title:"",container:!1}};f.fn.bootstrapPaginator.Constructor=h})(window.jQuery);
